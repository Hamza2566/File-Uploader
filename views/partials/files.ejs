<div class="files-header">
  <% if (folders && folders.length > 0) { %>
    <h2>ðŸ“‚  <%= folders[0].name %></h2>
  <% } else { %>
    <h2>No files found</h2>
  <% } %>

  <input type="submit" value="ðŸ“„ New File" class="newfile" />
</div>

<!-- ======================
     File Modal (Upload New File)
====================== -->
<div class="modal-file" id="newFileModal">
  <div class="modal-file-content">
    <span class="file-close">&times;</span>
    <h2>Upload New File</h2>
    <form action="/upload" method="POST" enctype="multipart/form-data">
      <input type="file" name="avatar" id="file" required />
      <button type="submit" class="model-button">Upload</button>
    </form>
  </div>
</div>

<!-- ======================
     Files List
====================== -->
<div class="files-content">
  <% if (folders && folders.length > 0) { %>
    <% const folder = folders[0]; %>

    <% if (folder.files && folder.files.length > 0) { %>
      <table border="1" cellpadding="8" cellspacing="0">
        <thead>
          <tr>
            <th>Name</th>
            <th>Size</th>
            <th>Folder</th>
            <th>Created At</th>
            <th>Updated At</th>
          </tr>
        </thead>
        <tbody>
          <% folder.files.forEach(file => { %>
            <tr>
              <td><%= file.name %></td>
              <td><%= file.size === 0 ? "-" : file.size %></td>
              <td><%= folder.name %></td>
              <td><%= file.createdAt.toLocaleString() %></td>
              <td><%= file.updatedAt.toLocaleString() %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    <% } else { %>
      <p>No files in this folder</p>
    <% } %>
  <% } else { %>
    <h3>No folders found</h3>
  <% } %>
</div>
